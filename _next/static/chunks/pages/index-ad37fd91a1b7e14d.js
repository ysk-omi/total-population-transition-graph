(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5708:function(e,t,r){var n;"undefined"!=typeof self&&self,e.exports=(n=r(7294),function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}function o(e){return s(e)||c(e)||i(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function c(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var f=r(1),p=r.n(f),d="undefined"!=typeof window?f.useLayoutEffect:f.useEffect,h=Object(f.forwardRef)((function(e,t){var r=Object(f.useRef)(),a=Object(f.useRef)();return d((function(){function t(){var t=e.highcharts||"object"===("undefined"==typeof window?"undefined":l(window))&&window.Highcharts,n=e.constructorType||"chart";t?t[n]?e.options?a.current=t[n](r.current,e.options,e.callback?e.callback:void 0):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(a.current){if(!1!==e.allowChartUpdate)if(!e.immutable&&a.current){var n;(n=a.current).update.apply(n,[e.options].concat(o(e.updateArgs||[!0,!0])))}else t()}else t()})),d((function(){return function(){a.current&&(a.current.destroy(),a.current=null)}}),[]),Object(f.useImperativeHandle)(t,(function(){return{get chart(){return a.current},container:r}}),[]),p.a.createElement("div",n({},e.containerProps,{ref:r}))}));t.default=Object(f.memo)(h)},function(e,t){e.exports=n}]))},8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(5654)}])},5654:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.r(t),r.d(t,{__N_SSG:function(){return R},default:function(){return G}});var a=r(5893),i=r(7294),c=r(1726),s=r.n(c);function u(){return(0,a.jsx)("header",{className:s().header,children:(0,a.jsxs)("h1",{className:s().title,children:[(0,a.jsx)("span",{className:s().icon,children:"\ud83c\udf10"}),"\u4eba\u53e3\u63a8\u79fb\u30b0\u30e9\u30d5"]})})}var l=r(8530),f=r.n(l);function p(){return(0,a.jsx)("footer",{className:f().footer,children:(0,a.jsxs)("ul",{className:f().list,children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:f().title,children:"API:"}),(0,a.jsx)("a",{href:"https://resas.go.jp/#/13/13101",target:"_blank",rel:"noopener noreferrer",children:"RESAS - \u5730\u57df\u7d4c\u6e08\u5206\u6790\u30b7\u30b9\u30c6\u30e0"})]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:f().title,children:"Tech:"}),(0,a.jsx)("a",{href:"https://nextjs.org/",target:"_blank",rel:"noopener noreferrer",children:"Next.js"})," ","/"," ",(0,a.jsx)("a",{href:"https://nextjs.org/",target:"_blank",rel:"noopener noreferrer",children:"TypeScript"})," ","/"," ",(0,a.jsx)("a",{href:"https://sass-lang.com/",target:"_blank",rel:"noopener noreferrer",children:"Sass"})," ","/"," ",(0,a.jsx)("a",{href:"https://eslint.org/",target:"_blank",rel:"noopener noreferrer",children:"ESlint"})," ","/"," ",(0,a.jsx)("a",{href:"https://prettier.io/",target:"_blank",rel:"noopener noreferrer",children:"Prettier"})]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("span",{className:f().title,children:"Github:"}),(0,a.jsx)("a",{href:"https://github.com/ysk-omi",target:"_blank",rel:"noopener noreferrer",children:"ysk-omi"})]})]})})}var d=r(66),h=r.n(d);function _(e){var t=e.children;return(0,a.jsxs)("div",{className:h().wrapper,children:[(0,a.jsx)(u,{}),(0,a.jsx)("main",{className:h().container,children:t}),(0,a.jsx)(p,{})]})}var y=r(1799),x=r(8840),m=r.n(x),b=r(5708),v=r.n(b),j=r(4007),g=r.n(j);function w(e){var t=e.prefacturesList,r=e.populations,n=(0,i.useState)([]),o=n[0],c=n[1],s=(0,i.useState)(0),u=s[0],l=s[1],f=(0,i.useState)({title:{text:""},xAxis:{title:{text:"\u5e74"}},yAxis:{title:{text:"\u4eba\u53e3\u6570"}},plotOptions:{series:{pointInterval:5,pointStart:1965}},series:[]}),p=f[0],d=f[1];return(0,i.useEffect)((function(){if(r[0]){var e=[];r[0].data.forEach((function(t){e.push(t.label)})),c(e)}}),[r]),(0,i.useEffect)((function(){var e=[],n=!0,o=!1,a=void 0;try{for(var i,c=r[Symbol.iterator]();!(n=(i=c.next()).done);n=!0){var s=i.value,l=s.data[u].data,f={name:t[s.prefCode-1].prefName,data:[]},h=!0,_=!1,x=void 0;try{for(var m,b=l[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){var v=m.value;f.data.push(v.value)}}catch(w){_=!0,x=w}finally{try{h||null==b.return||b.return()}finally{if(_)throw x}}e.push(f)}}catch(w){o=!0,a=w}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}var j={series:e},g=(0,y.Z)({},p,j);d(g)}),[r,u,t]),(0,a.jsxs)("div",{className:g().wrapper,children:[(0,a.jsx)("h2",{className:g().title,children:o[u]}),(0,a.jsx)("div",{className:g().inner,children:(0,a.jsx)(v(),{highcharts:m(),options:p})}),(0,a.jsx)("div",{className:g().buttons,children:o.map((function(e,t){return(0,a.jsx)("button",{className:g().button,"data-selected":u===t,onClick:function(){return l(t)},children:e},t)}))})]})}function N(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(u){return void r(u)}c.done?t(s):Promise.resolve(s).then(n,o)}function S(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){N(a,n,o,i,c,"next",e)}function c(e){N(a,n,o,i,c,"throw",e)}i(void 0)}))}}var C=r(655),k=function(e){return"https://opendata.resas-portal.go.jp/"+e},A=(function(){var e=S((function(){var e;return(0,C.__generator)(this,(function(t){switch(t.label){case 0:return e=k("api/v1/prefectures"),[4,fetch(e,{method:"GET",headers:{"Content-Type":"application/json","X-API-KEY":"GtU0tPa8FYsyeqbRw3WyRU2m4DHvvfkHwyyIBHbR"}})];case 1:return[4,t.sent().json()];case 2:return[2,t.sent().result]}}))}))}(),function(){var e=S((function(e){var t,r;return(0,C.__generator)(this,(function(n){switch(n.label){case 0:return t=k("".concat("api/v1/population/composition/perYear","?prefCode=").concat(e,"&cityCode=-")),[4,fetch(t,{method:"GET",headers:{"Content-Type":"application/json","X-API-KEY":"GtU0tPa8FYsyeqbRw3WyRU2m4DHvvfkHwyyIBHbR"}})];case 1:return[4,n.sent().json()];case 2:return(r=n.sent()).result.prefCode=e,[2,r.result]}}))}));return function(t){return e.apply(this,arguments)}}()),P=r(9008),I=r.n(P),O=r(6601),E=r.n(O),T=r(8948),H=r.n(T);function B(e){var t=e.prefacture,r=e.checked,n=e.onChange;return(0,a.jsxs)("label",{className:H().label,children:[(0,a.jsx)("input",{className:H().input,type:"checkbox",checked:r,onChange:function(){return n(t.prefCode)}}),(0,a.jsx)("span",{className:H().text,children:t.prefName})]})}var R=!0;function G(e){var t=e.prefacturesList,r=(0,i.useState)(Array(t[t.length-1].prefCode+1).fill(!1)),n=r[0],c=r[1],s=(0,i.useState)([]),u=s[0],l=s[1],f=(0,i.useState)(!1),p=f[0],d=f[1],h=function(){d(!p)},y=function(e){var t=n.concat();t[e]=!t[e],c(t)},x=function(e){if(n[e]){var t=u.concat().filter((function(t){return t.prefCode!==e}));l(t),y(e)}else{u.find((function(t){return t.prefCode===e}))||A(e).then((function(t){l(o(u).concat([t])),y(e)}))}};return(0,a.jsxs)(_,{children:[(0,a.jsx)(I(),{children:(0,a.jsx)("title",{children:"\u4eba\u53e3\u63a8\u79fb\u30b0\u30e9\u30d5"})}),(0,a.jsx)("button",{className:"".concat(E().areaButton," ").concat(E().areaButtonHeader),onClick:h,"data-open":p,children:p?"\u30b0\u30e9\u30d5\u3092\u8868\u793a":"\u90fd\u9053\u5e9c\u770c\u3092\u9078\u629e"}),(0,a.jsx)("section",{className:"".concat(E().section," ").concat(E().sectionArea),"data-open":p,children:(0,a.jsxs)("div",{className:E().sectionInner,children:[(0,a.jsx)("h2",{className:E().title,children:"\u90fd\u9053\u5e9c\u770c"}),(0,a.jsx)("div",{className:E().areas,children:t.map((function(e,t){return(0,a.jsx)("div",{className:E().area,children:(0,a.jsx)(B,{prefacture:e,checked:n[e.prefCode],onChange:x})},t)}))})]})}),(0,a.jsx)("section",{className:E().section,children:u.length>0?(0,a.jsx)(w,{prefacturesList:t,populations:u}):(0,a.jsxs)("div",{className:E().chart__zero,children:[(0,a.jsx)("p",{children:"\u90fd\u9053\u5e9c\u770c\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}),(0,a.jsx)("button",{className:E().areaButton,onClick:h,"data-open":p,children:p?"\u30b0\u30e9\u30d5\u3092\u8868\u793a":"\u90fd\u9053\u5e9c\u770c\u3092\u9078\u629e"})]})})]})}},4007:function(e){e.exports={title:"Chart_title__uOjQ0",inner:"Chart_inner__TKfG8",buttons:"Chart_buttons__jv0de",button:"Chart_button__Y0VDk"}},8948:function(e){e.exports={label:"Checkbox_label__mT982",text:"Checkbox_text__zq76G",input:"Checkbox_input__aO_34"}},8530:function(e){e.exports={footer:"Footer_footer__BH5s_",list:"Footer_list__1_6_h",title:"Footer_title__d3bEL"}},1726:function(e){e.exports={header:"Header_header__ubBbX",title:"Header_title__duTZ8",icon:"Header_icon__z9DUe"}},6601:function(e){e.exports={areaButton:"IndexPage_areaButton__OJylP",areaButtonHeader:"IndexPage_areaButtonHeader__xqg0b",section:"IndexPage_section__9_5aj",sectionArea:"IndexPage_sectionArea__klXN_",title:"IndexPage_title__ejlAl",sectionInner:"IndexPage_sectionInner__o0Pe2",areas:"IndexPage_areas__50fdX",area:"IndexPage_area__dq2bs",chart__zero:"IndexPage_chart__zero__c0n34"}},66:function(e){e.exports={wrapper:"Layout_wrapper__xF7VK",container:"Layout_container__z4qWC"}},9008:function(e,t,r){e.exports=r(5443)}},function(e){e.O(0,[898,774,888,179],(function(){return t=8312,e(e.s=t);var t}));var t=e.O();_N_E=t}]);